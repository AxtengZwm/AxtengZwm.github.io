<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>并行计算 on 学习笔记</title><link>https://AxtengZwm.github.com/categories/%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97/</link><description>Recent content in 并行计算 on 学习笔记</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Tue, 08 Jun 2021 09:20:11 +0800</lastBuildDate><atom:link href="https://AxtengZwm.github.com/categories/%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97/index.xml" rel="self" type="application/rss+xml"/><item><title>openmp</title><link>https://AxtengZwm.github.com/posts/openmp_1/</link><pubDate>Tue, 08 Jun 2021 09:20:11 +0800</pubDate><guid>https://AxtengZwm.github.com/posts/openmp_1/</guid><description>OpenMP API简述 openmp由三部分组成： 编译指令 运行时库程序 环境变量 编译指令: 目的：
产生平行区域 线程之间划分代码块 线程之间分配循环迭代 系列化代码段 线程之间的工作同步 格式：
1#parallel omp &amp;lt;directive&amp;gt; [clause[[,] clause] ...] 指令：（directive）
atomic 内存位置将会原子更新 barrier 线程在此等待，知道所有线程都运行到此指令。用来同步所有线程 critical 其后的代码块为临界区，任意时刻只能被一个线程运行 flush 所有线程对所有的共享对象具有相同的内存视图 for 将循环并行化由多个线程执行 master 指定主线程运行接下来的程序 ordered 接下来的代码块中，将被并行化的循环将依序进行 parallel 代表接下来的代码块被多个线程并行各执行一遍 sections 接下来的代码块包含被并行执行的section块 single 接下来的程序只会在单个线程中执行 threadprivate 指定一个变量为线性局部存储 从句：（clause）
copyin 让threadprivate的变量的值与主线程中的值相同 copyprivate 不同线程中的变量在所有线程中共享 default 指定并行域内的变量的使用方式，缺省是shared firstprivate 对于线程局部存储的变量，其初值是进行并行区之前的值 if 判断条件，用来决定是否要并行化 lastprivate 在一个循环并行执行结束后，指定变量的值为循环体在顺序最后一次执行时获取的值 nowait 忽略barrier的同步等待 num_threads 设置线程数量，默认值为计算机支持的最大并发数 ordered 适用于for，将程序中标记directive ordered 的部分依序运行 private 指定变量为线程局部存储 reduction 指定一个或多个变量是私有的，并在并行结束后执行指定的归约运算，并将结果返回至主线程同名变量 schedule 设置for循环的并行化方法；有dynamic，guided，runtime，static四种方法。shared指定变量为所有线程共享 schedule（static，chunk_szie）把chunk_size数目的循环的执行静态依序指定给各线程 schedule（dynamic，chunk_size)把循环体的执行按照chunk_size（缺省值为1）分为若干组，每个等待的线程获得当前一组去执行，执行完后重新等待分配新的组 schedule （guided，chunk_size）把循环体的执行分组分配给等待执行的线程，最初的组中的循环体执行数目较大，然后按指数方式下降到chunk_size schedule（runtime）循环并行化方式不在编译是静态确定，而是推迟到程序执行时动态地根据环境变量OMP_SCHEDULE来决定要使用的方法 库函数：</description></item></channel></rss>